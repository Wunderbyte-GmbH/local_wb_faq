define("local_wb_faq/faqnavbar",["exports","core/ajax","core/templates","local_wb_faq/custommodal","core/modal_factory","core/modal_events"],(function(_exports,_ajax,_templates,_custommodal,_modal_factory,_modal_events){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}
/*
   * @package    local_wunderbyte_table
   * @copyright  Wunderbyte GmbH <info@wunderbyte.at>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=function(){console.log("init navbar called"),function(){let button=document.querySelector("[data-id='wb-faq-navbar-open-modal']");if(!button)return void console.log("couldnt find button");if(button.initialized)return;button.initialized=!0;var modal=null;console.log("found button",button),button.addEventListener("click",(async e=>{console.log("found e",e);let data={tabs:[{name:"x",active:!0,success:!0},{name:"y",active:!1,success:!1}],body:{text:"my js text"}};_ajax.default.call([{methodname:"local_wb_faq_get_faq_data",args:{},done:async function(faqdata){data.json=JSON.parse(faqdata.json),data.root=faqdata.root,data.uid=faqdata.uid,data.canedit=!1,data.allowedit=!1,modal||(modal=await _modal_factory.default.create({type:_custommodal.default.TYPE,large:!0,body:_templates.default.render("local_wb_faq/navbar/body",data),footer:""}).then((modal=>(modal.setRemoveOnClose(!1),modal))).catch((e=>{console.error(e)}))),modal.show(),modal.getRoot().on(_modal_events.default.hidden,(e=>{console.log("modal dismissed",e)})),modal.getRoot().on(_modal_events.default.destroyed,(e=>{console.log("modal destroyed",e)}))},fail:function(ex){console.log(ex)}}])}))}()},_ajax=_interopRequireDefault(_ajax),_templates=_interopRequireDefault(_templates),_custommodal=_interopRequireDefault(_custommodal),_modal_factory=_interopRequireDefault(_modal_factory),_modal_events=_interopRequireDefault(_modal_events)}));

//# sourceMappingURL=faqnavbar.min.js.map