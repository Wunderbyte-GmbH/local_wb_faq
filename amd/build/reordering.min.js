define("local_wb_faq/reordering",["exports","core/ajax","core/sortable_list","jquery"],(function(_exports,_ajax,_sortable_list,_jquery){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}
/**
   * Javascript for sorting columns in question bank view.
   *
   * @copyright  2022 Wunderbyte GmbH
   * @author     Thomas Winkler
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_sortable_list=_interopRequireDefault(_sortable_list),_jquery=_interopRequireDefault(_jquery);const reorder=ids=>(0,_ajax.call)([{methodname:"local_wb_faq_set_wbfaq_order",args:{ids:ids}}])[0],getIdOrder=listRoot=>{const columns=Array.from(listRoot.querySelectorAll("li[data-id]")).map((column=>column.dataset.id));return columns.pop(),columns};_exports.init=identifier=>{((listRoot,identifier)=>{new _sortable_list.default(listRoot),(0,_jquery.default)(identifier+" > *").on(_sortable_list.default.EVENTS.DROP,(function(evt,info){if(info.positionChanged){const ids=getIdOrder(listRoot);reorder(ids),listRoot.querySelectorAll(".li").forEach((item=>item.classList.remove("active")))}})),(0,_jquery.default)(identifier+" > *").on(_sortable_list.default.EVENTS.DRAGSTART,(event=>{event.currentTarget.classList.add("active")}))})(document.querySelector("".concat(identifier)),identifier)}}));

//# sourceMappingURL=reordering.min.js.map