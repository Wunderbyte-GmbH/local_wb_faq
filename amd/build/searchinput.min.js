define ("local_wb_faq/searchinput",["exports","core/templates","core/str"],function(a,b,c){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.render=a.init=a.searchJSON=a.searchInput=void 0;b=function(a){return a&&a.__esModule?a:{default:a}}(b);var d=[];a.searchInput=function searchInput(b,c,d){var e,f,g,h,j,k;e=document.querySelector(b);f=e.value.toUpperCase();g=document.querySelectorAll(c);for(j=0;j<g.length;j++){h=g[j].querySelector(d);k=h.textContent||h.innerText;if(-1<k.toUpperCase().indexOf(f)){g[j].style.display=""}else{g[j].style.display="none"}}};var e=function(a,b){var g=[],h=document.getElementById("wb_faq_searchbox"),j=document.querySelector(a).value.toUpperCase();console.log(j);if(3<j.length){var k=0;Object.values(b).forEach(function(a){if(a.content&&-1<a.content.toUpperCase().indexOf(j)||a.title&&-1<a.title.toUpperCase().indexOf(j)){g[k]=a;if(0==a.type){g[k].iscategory=!0}k++}});for(var e=0;e<g.length;e++){if("undefined"==typeof d[e]){f(g,h);break}if(g[e].id!=d[e].id){f(g,h);break}}d=g;if(1>d.length){(0,c.get_string)("noresult","local_wb_faq").then(function(a){console.log(a);h.innerHTML=a}).catch(function(a){console.log(a)})}}else if(0==j.length){h.innerHTML="";d=[]}else{(0,c.get_string)("stringtooshort","local_wb_faq").then(function(a){console.log(a);h.innerHTML=a}).catch(function(a){console.log(a)});d=[]}};a.searchJSON=e;a.init=function init(a,b){var c=4<arguments.length&&arguments[4]!==void 0?arguments[4]:null;document.getElementById(a).addEventListener("keyup",function(){e(b,c)})};var f=function(a,c){console.log(a,c);b.default.renderForPromise("local_wb_faq/searchbox",a).then(function(a){var b=a.html;c.innerHTML="";c.insertAdjacentHTML("afterbegin",b)}).catch(function(a){console.log(a)})};a.render=f});
//# sourceMappingURL=searchinput.min.js.map
